(()=>{var e,t={757:()=>{var e=io(),t="",n="",r=!1,o="",i=document.getElementById("room-form"),a=document.getElementById("message-form"),s=document.querySelector("#chatbox"),l=document.getElementById("leave"),c=document.getElementById("list"),d=function(e,n){if(e===t&&n){var i=document.getElementById(n).querySelector(".msg");e===t&&i&&(r=!0,o=n,a.send.innerText="Edit",a.inputmessage.value=i.innerText,a.delete.style.display="block")}},u=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n){var i=document.createElement("div");i.id=r,i.addEventListener("dblclick",(function(){return d(e,r)})),(e===t||o)&&i.classList.add("self");var a='<span class="author">'.concat(e,'</span>\n    <span class="msg">').concat(n.toString(),"</span>");i.innerHTML=a,s.appendChild(i),s.scrollTop=s.scrollHeight}},m=function(){var i=a.inputmessage.value.trim();if(a.inputmessage.value="",""!==i)return t&&n?r&&o?(e.emit("newEditMessage",{username:t,room:n,text:i,id:o},(function(e){if(e&&e.error)return console.log(e.error)})),o="",r=!1,a.delete.style.display="none",a.send.innerText="Send"):void e.emit("newMessage",{username:t,room:n,text:i},(function(e){if(e&&e.error)return console.log(e.error)})):u("star444",i,"abc123",!0)};e.on("message",(function(e){var t=e.user,n=e.text,r=e.id;u(t,n,r)})),e.on("editMessage",(function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"no_id_given",r=document.getElementById(n);if(r){r.querySelector(".msg").innerText=t,s.scrollTop=s.scrollHeight}}(e.user,e.text,e.id)})),e.on("deleteMessage",(function(e){!function(e){var t=document.getElementById(e);t&&(t.remove(),s.scrollTop=s.scrollHeight)}(e.id)})),e.on("pInfo",(function(e){!function(e){document.getElementById("total-p").innerText=e.length;var t=document.getElementById("p-list-inner"),n=document.createElement("ul");e.forEach((function(e){var t=document.createElement("li");t.innerText=e,n.appendChild(t)})),t.innerHTML=n.innerHTML}(e.users)})),e.on("chatHistory",(function(e){var t=e.messages;t.length<=0||(t.forEach((function(e){var t=e.id,n=e.text,r=e.user;u(r,n,t)})),s.innerHTML+="<p style='text-align:center;margin: 10px auto'>Chat History</p>")})),i.addEventListener("submit",(function(r){if(r.preventDefault(),""!==n)return window.location.hash="chat";var o=i.name.value.trim(),a=i.room.value.trim();e.emit("join",{name:o,room:a},(function(e){if(e.error)return console.log(e.error);var r;"joined"===e.status&&(l.style.display="block",c.classList.add("active"),document.getElementById("p-list").classList.add("active"),r=e.user,t=r.name,n=r.room,document.getElementById("room-title").innerText="Room ~ ".concat(n),window.location.hash="chat",s.innerHTML="")}))})),a.addEventListener("submit",(function(e){e.preventDefault(),m()})),a.inputmessage.addEventListener("keypress",(function(e){"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),m())})),a.delete.addEventListener("click",(function(t){t.preventDefault(),e.emit("sendDelete",{id:o,room:n},(function(e){return e&&e.error?console.log(e.error):(o="",r=!1,a.delete.style.display="none",a.inputmessage.value="",a.send.innerText="Send")}))})),l.addEventListener("click",(function(){window.location="/"})),c.addEventListener("click",(function(){document.getElementById("p-list").classList.toggle("visible")}))},920:()=>{}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={611:0,924:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,s,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var d=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0;return r.O(d)},n=self.webpackChunkRealTime_Pizza=self.webpackChunkRealTime_Pizza||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.O(void 0,[924],(()=>r(757)));var o=r.O(void 0,[924],(()=>r(920)));o=r.O(o)})();